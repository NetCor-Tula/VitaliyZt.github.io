var url_add_to_favorites="/favorites/add";var ismobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
$(document).ready(function(){$('.thumbmanage').hide();jQuery('.thumb').hover(function(){jQuery(this).find('.thumbmanage:first').fadeIn('fast');},function(){jQuery(this).find('.thumbmanage:first').fadeOut('fast');});$('#loading_effect').show();$('#loading_effect_text').fadeOut();$('.selectpicker').selectpicker();$(".fancybox").fancybox({beforeLoad:function(){var el,id=$(this.element).data('title-id');if(id){el=$('#'+id);if(el.length){this.title=el.html();}}},helpers:{title:{type:'inside',position:'bottom'},overlay:{locked:false}}});outdatedBrowser({bgColor:'#f25648',color:'#ffffff',lowerThan:'transform',languagePath:''});var offset=300,offset_opacity=1200,scroll_top_duration=500,$back_to_top=$('.cd-top');$(window).scroll(function(){($(this).scrollTop()>offset)?$back_to_top.addClass('cd-is-visible'):$back_to_top.removeClass('cd-is-visible cd-fade-out');if($(this).scrollTop()>offset_opacity){$back_to_top.addClass('cd-fade-out');}});$back_to_top.on('click',function(event){event.preventDefault();$('body,html').animate({scrollTop:0,},scroll_top_duration);});});$(window).load(function(){adjustTopMargin();var $masonry_container=$('.masonry');$masonry_container.imagesLoaded(function(){$masonry_container.masonry({columnWidth:280,itemSelector:'.masonryItem',transitionDuration:0});});$(".masonryItem img").addClass('not-loaded');$(".lazy").lazyload({threshold:500,effect:"fadeIn",load:function(){$(this).removeClass("not-loaded");if(typeof $masonry_container!='undefined'){$masonry_container.masonry('reloadItems');$masonry_container.masonry('layout');}}});$(".masonryItem img.not-loaded").trigger('scroll');$('a[href*=#]:not([href=#])').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){$('html,body').animate({scrollTop:target.offset().top},1000);return false;}}});});if(typeof angular!='undefined'){var daylightedApp=angular.module('daylighted',['ngAnimate','infinite-scroll']);daylightedApp.controller('ContentCtrl',function($scope,$http,$location,$anchorScroll){});daylightedApp.config(['$httpProvider',function($httpProvider){$httpProvider.defaults.xsrfCookieName='csrftoken';$httpProvider.defaults.xsrfHeaderName='X-CSRFToken';$httpProvider.defaults.headers.post['Content-Type']='application/x-www-form-urlencoded; charset=UTF-8';}]);daylightedApp.filter('truncate',function(){return function(text,length,end){if(typeof text==='undefined'||text==null){return false}
if(isNaN(length))
length=10;if(end===undefined)
end="...";if(text.length<=length||text.length-end.length<=length){return text;}else{return String(text).substring(0,length-end.length)+end;}};});daylightedApp.filter('capitalize',function(){return function(input,scope){return input.substring(0,1).toUpperCase()+input.substring(1);}});}
function notification(title,text,type){new PNotify({title:title,text:text,type:type,icon:false,shadow:false,animation:"slide",delay:1500,});}
function loading_show(callback){$('#loading_effect_text').show(1,function(){if(typeof callback!=='undefined'){callback()}});}
function loading_done(){$('#loading_effect_text').fadeOut();}
function add_to_favorites(picture_id){$.ajax({url:url_add_to_favorites,type:"GET",data:{picture_id:picture_id},success:function(response){if(response=='Added'){$('#btn-favorite').hide();$('#btn-favorited').show();}else{$('#btn-favorited').hide();$('#btn-favorite').show();}},complete:function(){},error:function(xhr,textStatus,thrownError){}});}
$('form').submit(function(){var input=$('.loadinginput');input.prop('disabled',true);input.val('Loading...');});var jumboHeight=$('.parallaxed').outerHeight();function parallax(){if(!ismobile){var scrolled=$(window).scrollTop();$('.parallaxed').css('height',(jumboHeight-scrolled)+'px');}}
function isBreakpoint(alias){return $('.device-'+alias).is(':visible');}
function adjustTopMargin(){var topmargin=60;if(!isBreakpoint('xs')&&typeof $('.navbar-black-top').position()!=='undefined'){topmargin=$('.navbar-black-top').position().top+$('.navbar-black-top').outerHeight(true)}else if(typeof $('.navbar').position()==='undefined'){topmargin=0}
$('body').css("margin-top",topmargin);}
$(window).resize(function(){adjustTopMargin();});$(window).scroll(function(e){parallax();});!function(t,e,o){t.fn.cornerSlider=function(i){function n(t,o,i){var n,c,i=parseInt(i);if(i=i>0?i:null){c=""!=h.cookieDomain?"; domain=."+h.cookieDomain:"";var s=new Date;s.setTime(s.getTime()+60*i*1e3),n="; expires="+s.toGMTString(),e.cookie=t+"="+o+n+c+"; path=/"}}function c(t){var o,i,n;return e.cookie.length<1?!1:(o=e.cookie.indexOf(t+"="),0>o?!1:(o=o+t.length+1,i=e.cookie.indexOf(";",o),-1==i&&(i=e.cookie.length),n=unescape(e.cookie.substring(o,i)),n.length>0))}function s(){return u?!1:c(h.cookieName)?!1:!0}function f(t){t.removeClass("hidden").addClass("shown").stop(),"right"==h.directionEffect?t.animate({right:h.right},h.speedEffect,function(){}):"bottom"==m?t.animate({bottom:h.bottom},h.speedEffect,function(){}):t.animate({left:h.left},h.speedEffect,function(){}),h.onShow.call(t)}function r(t,e,o){t.stop(),"right"==h.directionEffect?t.animate({right:-e},h.speedEffect,function(){t.removeClass("shown").addClass("hidden")}):"bottom"==m?(height=g,t.animate({bottom:-height},h.speedEffect,function(){t.removeClass("shown").addClass("hidden")})):t.animate({left:-e},h.speedEffect,function(){t.removeClass("shown").addClass("hidden")}),o?h.onClose.call(t):h.onHide.call(t)}function a(){l.find(".close").on("click",function(){u=!0,r(l,d,!0),n(h.cookieName,h.cookieValue,h.cookieMinutesToExpiry)})}var h=t.extend({showAtScrollingHeight:1300,elemToPresent:"#presentSlider",directionEffect:"right",speedEffect:300,bottom:6,right:6,left:6,top:6,cookieName:"cornerSliderHide",cookieValue:"hidden",cookieDomain:"",cookieMinutesToExpiry:15,onShow:function(){},onHide:function(){},onClose:function(){}},i),l=t(this),d=l.outerWidth(),g=l.outerHeight(),m="right",u=!1;t(o).scroll(function(){var e=parseInt(t(o).scrollTop()),i=parseInt(o.innerHeight),n=e+i,c=0==t(h.elemToPresent).length?h.showAtScrollingHeight:parseInt(t(h.elemToPresent).offset().top);n>c?l.hasClass("hidden")&&s(h.cookieName)&&f(l):l.hasClass("shown")&&r(l,d,!1)}),function(){width=d,height=g,m="left"==h.directionEffect||"right"==h.directionEffect?h.directionEffect:"bottom",t("<div></div>",{text:"X","class":"close"}).prependTo(l),a(),l.addClass("hidden"),l.css({bottom:h.bottom}),"left"==m?l.css({left:-width,right:"auto"}):"right"==m?l.css({right:-width,left:"auto"}):("bottom"==m&&l.css({bottom:-height}),l.css("bottom left"==h.directionEffect?{left:h.left,right:"auto"}:"bottom center"==h.directionEffect?{"margin-right":"auto","margin-left":"auto",right:0,left:0}:"bottom right"==h.directionEffect?{right:h.right,left:"auto"}:{right:h.right,left:"auto"}))}()}}(jQuery,document,window);function setCookie(name,value,minutes){var expires,domain,minutes=parseInt(minutes);minutes=(minutes>0)?minutes:null;if(minutes)
{domain='';var date=new Date();date.setTime(date.getTime()+(minutes*60*1000));expires='; expires='+date.toGMTString();document.cookie=name+'='+value+expires+domain+'; path=/';}}
$("#newsletter_form").submit(function(event){$.ajax({type:"POST",url:"/newsletter/subscribe",data:{email:$('#newsletter_email_input').val()},success:function(response){setCookie("cornerSliderHide","hidden",20000);$('#newsletter_form_div').fadeOut(function(){$('#newsletter_form_div').html(response);$('#newsletter_form_div').fadeIn();setTimeout(function(){$('#corner-slider').slideUp();},3000)});}});event.preventDefault();});$(document).ready(function()
{$("#corner-slider").cornerSlider({showAtScrollingHeight:1100,directionEffect:"bottom center",speedEffect:300,right:20,left:20,bottom:10,cookieMinutesToExpiry:10080});});UserVoice=window.UserVoice||[];(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/4izpQQFbuqJdo0267uzfQ.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();UserVoice.push(['set',{accent_color:'#e2753a',trigger_color:'white',trigger_background_color:'#e2753a'}]);UserVoice.push(['identify',{email:'',name:'',id:'user2',type:''}]);UserVoice.push(['addTrigger',{mode:'contact',trigger_position:'bottom-right'}]);